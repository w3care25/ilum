{layout="_layouts/_layout_main"}

{!-- Meta Variables --}
{layout:set name="page_schema"}ProfilePage{/layout:set}
{layout:set name="meta_robots"}noindex,nofollow{/layout:set}
{layout:set name="meta_page_title"}{exp:ilum_wallet:lang key="change_password"} - {logged_in_screen_name}{/layout:set}

{!-- Styles & Scripts --}
{layout:set name="extra_js_footer"}
<script>
	$(document).ready(function() {	
		var options = {};
		options.ui = {
		  container: "#pwdstrength-container",
		  showVerdictsInsideProgressBar: true,
		  viewports: {
			progress: ".pwstrength_viewport_progress"
		  },
		  progressExtraCssClasses: "progress-sm"
		};
		options.common = {
		  debug: true,
		  onLoad: function () {
			$('#messages').text('{exp:ilum_wallet:lang key="start_typing_password"}');
		  }
		};
		$('#password').pwstrength(options);
	});
</script>
{/layout:set}

{!-- Layout Variables --}
{layout:set name="title"}{exp:ilum_wallet:lang key="change_password"}{/layout:set}
{layout:set:append name="breadcrumbs"}{exp:ilum_wallet:lang key="my_profile"}{/layout:set:append}
{layout:set:append name="breadcrumbs_url"}/{segment_1}{/layout:set:append}
{layout:set:append name="breadcrumbs"}{exp:ilum_wallet:lang key="change_password"}{/layout:set:append}

{!-- Contents --}
<div class="mt-3">
  {exp:user:edit override_return="{segment_1}/pass_updated" form:class="validator" required="password|password_confirm"}
  <div class="card text-left">
  	{!--<div class="card-header card-header-inverse bg-orange">
		<h4 class="card-header-title text-uppercase">{exp:ilum_wallet:lang key="change_password"}</h4>
	</div>--}
	<div class="card-body">
	  <div class="row">
		<div class="form-group col-md-12" id="pwdstrength-container">
		  <label class="d-flex align-items-center"for="password">{exp:ilum_wallet:lang key="new_password"}&nbsp;{required_v} <div class="pwstrength_viewport_progress ml-auto width-200"></div></label>
		  <div class="input-group">
		  	<input type="password" class="form-control" id="password" name="password" pattern="{password_regex_v}" title="{exp:ilum_wallet:lang key="password_desc"}" data-toggle="tooltip" autofocus required />
			<div class="input-group-append">
			  <button class="btn btn-outline-secondary rippler rippler-default password-reveal text-center" type="button" tabindex="25"><i class="far fa-fw fa-eye password-show"></i><i class="far fa-eye-slash password-hide hidden"></i></button>
			</div>
		  </div>
		  <span class="help-block with-errors"></span>
		</div>

		<div class="form-group col-md-12">
		  <label for="password_confirm">{exp:ilum_wallet:lang key="confirm_new_password"} {required_v}</label>
		  <div class="input-group">
		  	<input type="password" class="form-control" id="password_confirm" name="password_confirm" data-match="#password" data-match-error="{exp:ilum_wallet:lang key="password_match"}" required />
			<div class="input-group-append">
			  <button class="btn btn-outline-secondary rippler rippler-default password-reveal text-center" type="button" tabindex="25"><i class="far fa-fw fa-eye password-show"></i><i class="far fa-eye-slash password-hide hidden"></i></button>
			</div>
		  </div>
		  <span class="help-block with-errors"></span>
		</div>

		<div class="form-group col-md-12">
		  <label for="password_confirm">{exp:ilum_wallet:lang key="current_password"} {required_v}</label>
		  <div class="input-group">
		  	<input type="password" class="form-control" id="current_password" name="current_password" title="{exp:ilum_wallet:lang key="current_password_desc"}" data-toggle="tooltip" required />
		  	<div class="input-group-append">
			  <button class="btn btn-outline-secondary rippler rippler-default password-reveal text-center" type="button" tabindex="25"><i class="far fa-fw fa-eye password-show"></i><i class="far fa-eye-slash password-hide hidden"></i></button>
			</div>
		  </div>
		  <span class="help-block with-errors"></span>
		</div>
	  </div>
	</div>
	<div class="card-footer text-right d-block">
	  <button type="submit" class="btn btn-success rippler rippler-default">{exp:ilum_wallet:lang key="save_settings"}</button>
	</div>
  </div>
  <!-- /.card -->
  {/exp:user:edit}
</div>